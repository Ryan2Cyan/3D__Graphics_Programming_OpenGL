uniform sampler2D u_Texture;


varying vec2 v_TexCoord;
bool greyscale = false;

void main()
{
   vec4 tex = texture2D(u_Texture, v_TexCoord);
   gl_FragColor = tex;

   // Active greyscale:
   if(greyscale)
   {
       float avg = (gl_FragColor.r + gl_FragColor.g + gl_FragColor.b) / 3.0;
       gl_FragColor = vec4(avg, avg, avg, 1.0);
   } 
}